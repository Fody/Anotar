version: 1.0.{build}
image: Visual Studio 2017
configuration: Release
platform: Any CPU
install:
- cmd: appveyor downloadfile https://dist.nuget.org/win-x86-commandline/latest/nuget.exe
before_build:
- ps: nuget restore
build_script:
- cmd: '"C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\Common7\IDE\devenv.com" Anotar.sln  /Build Release'
test_script:
- ps: >-
    dotnet test "Catel\Tests\Tests.csproj" --configuration Release --no-build

    dotnet test "CommonLogging\Tests\Tests.csproj" --configuration Release --no-build

    dotnet test "LibLog\Tests\Tests.csproj" --configuration Release --no-build

    dotnet test "Log4Net\Tests\Tests.csproj" --configuration Release --no-build

    dotnet test "NLog\Tests\Tests.csproj" --configuration Release --no-build

    dotnet test "NServiceBus\Tests\Tests.csproj" --configuration Release --no-build

    dotnet test "Serilog\Tests\Tests.csproj" --configuration Release --no-build

    dotnet test "Splat\Tests\Tests.csproj" --configuration Release --no-build

artifacts:
- path: nugets\**\*.nupkg